{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;ACN6D;;AAE7D;AACA,MAAM;EAAEE;AAAM,CAAC,GAAGF,+DAAK,CAAC,oBAAoB,EAAE;EAC5C;EACAE,KAAK,EAAE;IACL,IAAIC,cAAcA,CAAA,EAAG;MACnB,MAAMC,OAAO,GAAGH,oEAAU,CAAC,CAAC;MAC5B,OAAO,IAAII,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;QACpCC,KAAK,EAAE,UAAU;QACjBC,QAAQ,EAAE;MACZ,CAAC,CAAC,CAACC,MAAM,CAACL,OAAO,CAACM,YAAY,CAAC;IACjC,CAAC;IACD,IAAIC,cAAcA,CAAA,EAAG;MACnB,MAAMP,OAAO,GAAGH,oEAAU,CAAC,CAAC;MAC5B,OAAO,IAAII,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;QACpCC,KAAK,EAAE,UAAU;QACjBC,QAAQ,EAAE;MACZ,CAAC,CAAC,CAACC,MAAM,CACPL,OAAO,CAACM,YAAY,GAAGN,OAAO,CAACQ,QAAQ,IAAI,CAAC,GAAGV,KAAK,CAACW,QAAQ,GAAG,GAAG,CACrE,CAAC;IACH,CAAC;IACD,IAAIC,iBAAiBA,CAAA,EAAG;MACtB,OAAO,IAAIT,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;QACpCC,KAAK,EAAE,SAAS;QAChBQ,qBAAqB,EAAE,CAAC;QACxBC,qBAAqB,EAAE;MACzB,CAAC,CAAC,CAACP,MAAM,CAACP,KAAK,CAACW,QAAQ,GAAG,GAAG,CAAC;IACjC,CAAC;IACD,IAAII,IAAIA,CAAA,EAAG;MACT,MAAMb,OAAO,GAAGH,oEAAU,CAAC,CAAC;MAC5B,OAAOG,OAAO,CAACQ,QAAQ,GAAG,CAAC;IAC7B,CAAC;IACD,IAAIM,MAAMA,CAAA,EAAG;MACX,MAAMd,OAAO,GAAGH,oEAAU,CAAC,CAAC;MAC5B,OAAOG,OAAO,CAACQ,QAAQ,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IACxC;EACF,CAAC;EACDO,OAAO,EAAE;IACP;IACAC,SAAS,EAAGC,CAAC,IAAK;MAChB,MAAMjB,OAAO,GAAGH,oEAAU,CAAC,CAAC;MAC5BG,OAAO,CAACQ,QAAQ,GAAGU,MAAM,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;IAC3C,CAAC;IACD;IACAC,cAAc,EAAGJ,CAAC,IAAK;MACrBnB,KAAK,CAACW,QAAQ,GAAGS,MAAM,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;IACzC;EACF;AACF,CAAC,CAAC,C","sources":["webpack://wp-i-api-state-context-demo/external module \"@wordpress/interactivity\"","webpack://wp-i-api-state-context-demo/webpack/bootstrap","webpack://wp-i-api-state-context-demo/webpack/runtime/make namespace object","webpack://wp-i-api-state-context-demo/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store, getContext } from \"@wordpress/interactivity\";\n\n// Destructure `state` from `store` so that it can be used below.\nconst { state } = store(\"product-calculator\", {\n  // These \"derived state\" values are calculated when needed, and not stored in the global state, or local context.\n  state: {\n    get formattedPrice() {\n      const context = getContext();\n      return new Intl.NumberFormat(\"en-GB\", {\n        style: \"currency\",\n        currency: \"GBP\",\n      }).format(context.productPrice);\n    },\n    get formattedTotal() {\n      const context = getContext();\n      return new Intl.NumberFormat(\"en-GB\", {\n        style: \"currency\",\n        currency: \"GBP\",\n      }).format(\n        context.productPrice * context.numItems * (1 + state.salesTax / 100)\n      );\n    },\n    get formattedSalesTax() {\n      return new Intl.NumberFormat(\"en-GB\", {\n        style: \"percent\",\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(state.salesTax / 100);\n    },\n    get show() {\n      const context = getContext();\n      return context.numItems > 0;\n    },\n    get plural() {\n      const context = getContext();\n      return context.numItems > 1 ? \"s\" : \"\";\n    },\n  },\n  actions: {\n    // Update the number of items when the input changes.\n    calculate: (e) => {\n      const context = getContext();\n      context.numItems = Number(e.target.value);\n    },\n    // Update the global state of the sales tax when the input changes.\n    upDateSalesTax: (e) => {\n      state.salesTax = Number(e.target.value);\n    },\n  },\n});\n"],"names":["store","getContext","state","formattedPrice","context","Intl","NumberFormat","style","currency","format","productPrice","formattedTotal","numItems","salesTax","formattedSalesTax","minimumFractionDigits","maximumFractionDigits","show","plural","actions","calculate","e","Number","target","value","upDateSalesTax"],"sourceRoot":""}